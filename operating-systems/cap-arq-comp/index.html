<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Conceptos de Arquitectura de Computadores</title>
    <link rel="stylesheet" href="../../css/mini-default.min.css">
	<link rel="stylesheet" href="../../css/style.min.css">

</head>
<body>

<body>

<div id="root">
	<header  class="sticky">
	
		<label for="drawer-control" class="button drawer-toggle col-sm"></label>
		<a href="#" class="button logo">Conceptos de Arq. de Computadores</a>
		<!--<a href="../index.html" class="button">Home</a>-->
		
		
	</header>

	<div class="row" id="doc-wrapper">
		<input type="checkbox" id="drawer-control" class="drawer" value="on">
	
		<nav class="col-md-4 col-lg-3" id="nav-drawer">
			<div>
				<label for="drawer-control" class="drawer-close"></label>
				<a href="../index.html">Home</a>
			  	<a href="#tipos-procesadores">Tipos de procesadoress</a>
				<a class="sublink-1" href="#sub-escalares">Procesadore sub-escalares</a>
				<a class="sublink-1" href="#escalares">Procesadore escalares</a>
				<a class="sublink-1" href="#super-escalares">Procesadore súper-escalares</a>
				<a href="#tecnologias-actuales">Tecnologías actuales</a>
				<a class="sublink-1" href="#definiciones">Definiciones</a>
				<a class="sublink-1" href="#sistemas-paralelos">Sistemas Paralelos</a>
				<a class="sublink-1" href="#arq-mem-paralela">Arquitecturas de memoria paralela</a>
				<a class="sublink-1" href="#ej-arq-paralela">Ejemplo de arquitectura paralela</a>
			</div>
		</nav>
	
		<main class="col-sm-12 col-md-8 col-lg-9" id="doc-content">
			
			<!--****************************************-->
			<!--*******  Tipos de procesadores  ********-->
			<!--****************************************-->
			<div id="tipos-procesadores" class="card fluid">
				<h1 class="section double-padded">Tipos de procesadores</h1>
				<div class="section">
					<p>Dependendiendo de la cantidad de ciclos por instrucción (<i>CPI</i>), 
						los procesadores se pueden clasificar en:</p>
					<ul>
						<li>Sub-escalares</li>
						<li>Escalares</li>
						<li>Super-escalares</li>
					</ul>
					
					Se asume que el ciclo de ejecución de una instrucción está dividida en cinco etapas: 
					<ul>
						<li>Instruction Fetch (IF)</li>
						<li>Instruction Decode (ID)</li>
						<li>Execution (EX)</li>
						<li>Memory access (MEM)</li>
						<li>Write Back (WB)</li>
					</ul>
				</div>
				
				<div id="sub-escalares" class="section">
					<h2 class="section double-padded">Procesadores sub-escalares</h2>
					<p>En los procesadores no segmentados, como el de la siguienta figura, se tiene que en cada ciclo
					de reloj, se utiliza una sección del procesador, mientras que las otras están inactivas. </p>
						
						<figure align="center">
						  <img width="80%" src="./img/proc-sin-seg.png" alt="Procesador sin segmentación"/>
						  <figcaption>Procesador sin segmentación</figcaption>
						</figure>
						
						<figure align="center">
						  <img width="40%" src="./img/secuential.png" alt="Ejecución secuencial de instrucciones"/>
						  <figcaption>Ejecución secuencial de instrucciones</figcaption>
						</figure>
						
						<p>Esto significa que este tipo de procesador se demora 5 ciclos de reloj en ejecutar una instrucción,
						por lo que su CPI=5.</p>
				</div>
				
				<div id="escalares" class="section">
					<h2 class="section double-padded">Procesadores escalares</h2>
					<p>Debido a que etapa de la instrucción es independiente de la anterior, es posible mejorar el rendimiento
						del procesador utilizando en forma paralela sus secciones, a través de la técnica de 
						<i>pipelining</i>.</p>
					
					<figure align="center">
					  <img width="80%" src="./img/proc-con-seg.png" alt="Procesador segmentado"/>
					  <figcaption>Procesador segmentado</figcaption>
					</figure>
					
					<p>Esta técnica permite que mientras una intrucción esté en la etapa <b>n</b>, la instrucción
						anterior esté en la etapa <b>n-1</b>. Con esto, se pretende tener utilizadas todas las partes del
						procesador, tal como se muestra en la figura siguiente:</p>
						
					<figure align="center">
					  <img width="40%" src="./img/pipelining.png" alt="Ejemplo de pipelining"/>
					  <figcaption>Ejemplo de pipelining</figcaption>
					</figure>
					
					<p>Esto significa que este tipo de procesador, en promedio,  se demora 5 ciclos de reloj en ejecutar
					 5 instrucciones, por lo que su CPI &cong; 5.</p>
						
				</div>
				
				<div id="super-escalares" class="section">
					<h2 class="section double-padded">Procesadores súper-escalares</h2>
					<p>Para lograr un CPI < 1, es necesario que varias instrucciones estén en la misma etapa en forma 
						simultánea. Esto se logra con procesadores que tengan replicadas sus rutas de datos, tal como 
						se muestra en la siguiente figura:</p>
						
					<figure align="center">
					  <img width="80%" src="./img/proc-super-escalar.png" alt="Procesador super-escalar"/>
					  <figcaption>Procesador súper-escalar</figcaption>
					</figure>
					
					<p>En la siguiente figura, se muestra en pipelining de un procesador que emite dos instrucciones en
						forma simultánea.</p>
					
					<figure align="center">
					  <img width="40%" src="./img/super-escalar.png" alt="Instrucción superescalar"/>
					  <figcaption>Ejemplo de pipelining en procesadores súper-escalares</figcaption>
					</figure>
					
					<p>Esto significa que este tipo de procesador, en promedio,  ejecuta  10 instrucciones por
						ciclo de reloj,  lo que su CPI &cong; 0.5.</p>
					
				</div>
			</div>
			
			<br>
			<!--***************************************-->
			<!--*******  Tecnologías actuales  ********-->
			<!--***************************************-->
			<div id="tecnologias-actuales" class="card fluid">
				<h1 class="section double-padded">Tecnologías actuales</h1>
					<!--*******************************-->
					<!--*******  Definiciones  ********-->
					<!--*******************************-->
					<div id="definiciones" class="card fluid">
						<h2 class="section double-padded">Definiciones</h2>
						<div class="section">
							<h3 class="section double-padded">Thread (T)</h3>				
								<p>Es un contexto de ejecución. En términos simples, es una secuencia de instrucciones
									que puede ser ejecutada en forma concurrente o paralela con otras secuencias de
									instrucciones.</p>
						</div>
				
						<div class="section">
							<h3 class="section double-padded">Hardware Thread (HT)</h3>				
								<p>Es el contexto de ejecución que está implementado en un procesador. Dependiendo del 
									tipo de procesador, puede tener 1 o más HT.</p>
						</div>
				
						<div class="section">
							<h3 class="section double-padded">Physical Procesor (PP)</h3>				
								<p>Es la implementación en HW de <i>una</i> unidad de procesamiento. Actualmente, 
									<mark>un core es un PP</mark>. Es el encargado de ejecutar un o más HT.</p>
						</div>
			
						<div class="section">
							<h3 class="section double-padded">Simultaneous Multithreading (SMT) </h3>
							<p>Tecnología que permite duplicar recursos de un PP, como el conjunto de registros, 
								PC, mecanismo de interrupciones, etc. Esto permite a un PP ejecutar múltiples 
								"contextos de ejecución"
								en forma <mark>paralela</mark>. Para que esto sea posible, el procesador debe ser
								<mark>super-escalar</mark>.</p>
						</div>
			
						<div class="section">
							<h3 class="section double-padded">Logical Procesor (LP)</h3>
							<p>Unidad de procesamiento que mantiene un sólo HT. Un LP puede ser un PP (core). Cuando hay SMT, 
								hay tantos LP como capacidad de ejecución de threads existan.</p>				
						</div>
					</div>
					<!--*******************************-->
					<!--*******  Ejemplo  ********-->
					<!--*******************************-->
					<div id="ejemplos" class="card fluid">
						<h2 class="section double-padded">Ejemplos</h2>
						<p>Para describir el hardware, Linux posee el comando <kbd class=​"doc">​lscpu​</kbd>​. 
							Esta sección muestra dos procesadores de la familia Intel i5-9x.</p>
						<div class="section">		
							<h3 class="section double-padded">1) Intel Core i5-9400</h3>	
						
								<figure align="center">
								  <img width="80%" src="./img/lscpu-9400.png" alt=""/>
								  <figcaption>Salida del comando <kbd class=​"doc">​lscpu​</kbd>​</figcaption>
								</figure>
								
								<p>En el texto mostrado, se explican las siguientes líneas:</p>
								
								<ul>
									<li><mark>Socket(s) : 1</mark> Significa que el sistema tiene un sólo chip físico.</li>
									<li><mark>Core(s) per socket: 6</mark> Implica que el sistema tiene 6 PP.</li>
									<li><mark>Threads(s) per core: 1</mark> El procesador no tiene SMT.</li>
									<li><mark>CPU(s) : 6</mark> El sistema tiene 6 LP.</li>
								</ul>
						
						</div>
						
						<div class="section">		
							<h3 class="section double-padded">2) Intel Core i5-9400H</h3>	
						
								<figure align="center">
								  <img width="80%" src="./img/lscpu-9400H.png" alt=""/>
								  <figcaption>Salida del comando <kbd class=​"doc">​lscpu​</kbd>​</figcaption>
								</figure>
								
								<p>En el texto mostrado, se explican las siguientes líneas:</p>
								
								<ul>
									<li><mark>Socket(s) : 2</mark> Significa que el sistema tiene dos chips físicos.</li>
									<li><mark>Core(s) per socket: 4</mark> Implica que el sistema tiene 4·2=8 PP.</li>
									<li><mark>Threads(s) per core: 2</mark> El procesador tiene SMT. Cada core puede
										tener 2 HT (2 contextos de ejecución)</li>
									<li><mark>CPU(s) : 16</mark> El sistema tiene 16 LP.</li>
								</ul>
						
						</div>
					</div>
					
					<!--*************************************-->
					<!--*******  Sistemas Paralelos  ********-->
					<!--*************************************-->
					<div id="sistemas-paralelos" class="card fluid">
					<h2 class="section double-padded">Sistemas Paralelos </h2>
						<p>Los sistemas paralelos se caracterizan por tener memoria y reloj común. Si bien existen
							formalmente los sistemas multiprocesador y multicore, actualmente se utilizan
							 computadores multicore para realizar cómputo paralelo.
						<!--**********************************-->
						<!--*******  Multiprocesador  ********-->
						<!--**********************************-->
						<h3 class="section double-padded">Sistemas multiprocesador</h3>
						<div class="section">			
							<p>Son sistemas que tienen 2 o más procesadores físicos (PP) sin soporte SMT. Estos sistemas
								eran comunes entre los años 1995 a 2005.</p>
								
							<figure align="center">
							  <img width="60%" src="./img/multi-proc.png" alt=""/>
							  <figcaption>Arquitectura de los sistemas multiprocesador</figcaption>
							</figure>
						</div>
						
						<!--****************************-->
						<!--*******  Multicore  ********-->
						<!--****************************-->
						<h3 class="section double-padded">Sistemas multicore</h3>
						<div class="section">			
							<p>Son sistemas que tienen 2 o más cores. Los cores pueden o no tener SMT. No hay restricción
								en el número de sockets que tenga el sistema.</p>
							<figure align="center">
							  <img width="60%" src="./img/multi-core.png" alt=""/>
							  <figcaption>Arquitectura de los sistemas multicore</figcaption>
							</figure>
						</div>
					</div>
					
					<!--**************************************************-->
					<!--*******  Arquitectura de memoria paralela ********-->
					<!--**************************************************-->
					<div id="arq-mem-paralela" class="card fluid">
					<h2 class="section double-padded">Arquitecturas de memoria paralela</h2>
						
						<!--**********************************-->
						<!--*******  UMA  ********-->
						<!--**********************************-->
						<h3 class="section double-padded">UMA (Uniform Memory Access)</h3>
						<div class="section">			
							<p>La memoria física es compartida por todos los procesadores. Todos los
								procesadores acceden con el mismo costo temporal a la memoria.</p>
								
							<figure align="center">
							  <img width="40%" src="./img/uma.png" alt=""/>
							  <figcaption>Uniform Memory Access (UMA)</figcaption>
							</figure>
						</div>
						
						<!--***********************-->
						<!--*******  NUMA  ********-->
						<!--***********************-->
						<h3 class="section double-padded">NUMA (Non Uniform Memory access</h3>
						<div class="section">			
							<p>La memoria física es local a cada procesador. El costo de acceso a la
								memoria está determinado por el sector donde está el dato.</p>
							<figure align="center">
							  <img width="40%" src="./img/numa.png" alt=""/>
							  <figcaption>Non Unifor Memory Access (NUMA)</figcaption>
							</figure>
						</div>
					</div>
					
					<!--**************************************************-->
					<!--*******  Ejemplo de Arquitectura paralela ********-->
					<!--**************************************************-->
					<div id="ej-arq-paralela" class="card fluid">
					<h2 class="section double-padded">Ejemplo de arquitectura paralela</h2>
						<div class="section">			
							<p>Este ejemplo utiliza el comando <kbd class=​"doc">​lscpu​</kbd>​ para 
								realizar la descripción del hardware y al archivo <kbd class=​"doc">​/proc/meminfo​</kbd>​
								para determinar la memoria del sistema.</p>
								
							<figure align="center">
							  <img width="60%" src="./img/ej-arq-paralela.png" alt=""/>
							  <figcaption>Descripción del sistema</figcaption>
							</figure>
							
							<p>Tomando en cuenta <mark>sólo</mark> las 5 primeras líneas, se puede concluir que el sistema
							tiene dos sockets, cada uno con 4 cores sin SMT, por lo que el sistema tiene 8 LP: </p>
							
							<figure align="center">
							  <img width="60%" src="./img/modelo00.png" alt=""/>
							  <figcaption>Modelo preliminar, sin tomar la configuración NUMA</figcaption>
							</figure>
							
							<p>Tomando en cuenta la configuración NUMA que muestra el comando 
								<kbd class=​"doc">​lscpu​</kbd>​, es posible inferir un segundo modelo, donde
								la configuración NUMA reemplaza los sockets por <mark>nodos NUMA</mark>, 
								relizando una reordenación de los cores asignados a cada nodo. Esto es una
								forma sencilla de implementar un balance de carga: cada nuevo thread es asignado 
								al core sucesivo dentro de un nodo numa.</p>
								
								<figure align="center">
								  <img width="60%" src="./img/modelo01.png" alt=""/>
								  <figcaption>Modelo preliminar</figcaption>
								</figure>
								
							<p>Debido a que la arquitectura de memoria es NUMA, hay que determinar cómo se reparte
								la memoria principal en los nodos NUMA. Esto se realiza a través del comando 
							<kbd class=​"doc">​numactl --hardware</kbd>​</p>
							
							<figure align="center">
							  <img width="60%" src="./img/ej-arq-paralela-02.png" alt=""/>
							  <figcaption>Configuración de la memoria del sistema</figcaption>
							</figure>
							
							<p>Con esta información, el modelo del sistema queda finalmente como:</p>
							
							<figure align="center">
							  <img width="60%" src="./img/modelo02.png" alt=""/>
							  <figcaption>Modelo final</figcaption>
							</figure>
							
						</div>
					</div>
			</div>
			<br>
		</main>
	</div>
	
</div>







<!--
<h2>Heading 2 <small>Subheading</small></h1>
<p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Duis non ullamcorper leo. <span class="tooltip" aria-label="Tooltip text">Nunc eu felis imperdiet</span>, luctus sapien ut, pulvinar tortor. In libero libero, pulvinar sed porttitor vel, elementum non justo. Sed ac lorem euismod dui condimentum efficitur nec efficitur lorem. Vivamus vehicula sapien nibh, a imperdiet ipsum auctor a. Sed nisl risus, sollicitudin id justo quis, iaculis blandit erat. Quisque nec accumsan mi, vehicula molestie justo. Donec nec pharetra mi. Praesent eu consequat purus. Integer nec euismod est. In condimentum dictum ipsum, nec malesuada mi porttitor id. Aliquam cursus ultricies arcu. Fusce vulputate bibendum tortor, eu lobortis sapien condimentum nec. Vestibulum malesuada finibus nunc, et convallis dolor varius euismod. Etiam condimentum ultricies felis, eget suscipit diam pretium id.</p>

<blockquote cite="www.quotation.source">Aliquam cursus ultricies arcu. Fusce vulputate bibendum tortor, eu lobortis sapien condimentum nec. Vestibulum malesuada finibus nunc, et convallis dolor varius euismod. Etiam condimentum ultricies felis, eget suscipit diam pretium id.</blockquote>

<p><mark class="inline-block"><span class="icon-alert inverse"></span>Sed at nisl ut lacus elementum dapibus. Duis tincidunt, est id sollicitudin sollicitudin, leo justo fringilla turpis, a venenatis libero arcu ut nisi. Fusce congue dignissim maximus. Sed ac ante eu arcu lacinia egestas eu a purus.</mark></p>

<a id="seccion2"></a>
<h1>Sección 2 <small>Subheading</small></h1>
<p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Duis non ullamcorper leo. Nunc eu felis imperdiet, luctus sapien ut, pulvinar tortor. In libero libero, pulvinar sed porttitor vel, elementum non justo. Sed ac lorem euismod dui condimentum efficitur nec efficitur lorem. Vivamus vehicula sapien nibh, a imperdiet ipsum auctor a. Sed nisl risus, sollicitudin id justo quis, iaculis blandit erat. Quisque nec accumsan mi, vehicula molestie justo. Donec nec pharetra mi. Praesent eu consequat purus. Integer nec euismod est. In condimentum dictum ipsum, nec malesuada mi porttitor id. Aliquam cursus ultricies arcu. Fusce vulputate bibendum tortor, eu lobortis sapien condimentum nec. Vestibulum malesuada finibus nunc, et convallis dolor varius euismod. Etiam condimentum ultricies felis, eget suscipit diam pretium id.</p>

<p>This is some text with some inline <code>source code</code> and some keyboard <kbd>input</kbd>.</p>
<pre>function sum(num1, num2){
  return num1 + num2;
}</pre>

<a id="seccion3"></a>
<h1>Sección 3 <small>Subheading</small></h1>
<p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Duis non ullamcorper leo. Nunc eu felis imperdiet, luctus sapien ut, pulvinar tortor. In libero libero, pulvinar sed porttitor vel, elementum non justo. Sed ac lorem euismod dui condimentum efficitur nec efficitur lorem. Vivamus vehicula sapien nibh, a imperdiet ipsum auctor a. Sed nisl risus, sollicitudin id justo quis, iaculis blandit erat. Quisque nec accumsan mi, vehicula molestie justo. Donec nec pharetra mi. Praesent eu consequat purus. Integer nec euismod est. In condimentum dictum ipsum, nec malesuada mi porttitor id. Aliquam cursus ultricies arcu. Fusce vulputate bibendum tortor, eu lobortis sapien condimentum nec. Vestibulum malesuada finibus nunc, et convallis dolor varius euismod. Etiam condimentum ultricies felis, eget suscipit diam pretium id.</p>

<p>This is some text with some inline <code>source code</code> and some keyboard <kbd>input</kbd>.</p>
<pre>function sum(num1, num2){
  return num1 + num2;
}</pre>

-->
</body>
</html>
